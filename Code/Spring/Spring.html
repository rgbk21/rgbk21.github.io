<!DOCTYPE html>
<html>
<head>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="Spring.css">
    <meta name="keywords" content="Java, Floats, Overflow, Unboxing, Autoboxing">
    <meta name="author" content="Raj Gaurav Ballabh Kumar">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring - Notes</title>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">

    <div class="navbar-header">
        <a href="../../index.html" class="navbar-brand">rgbk21</a>
    </div>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"><span
            class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="nav navbar-nav">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                   aria-expanded="false">
                    Projects
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="../../Projects/TwitterCritNodes/TwitterCritNodes_1.html">Identifying
                        Critical Nodes on Twitter</a>
                    <a class="dropdown-item" href="../../Projects/isRelatedTo/isRelatedTo.html">isRelatedTo</a>
                    <div class="dropdown-divider"></div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                   aria-expanded="false">
                    HTML Projects
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="../../ImageGallery/ImageGallery.html">Image Gallery</a>
                    <a class="dropdown-item" href="../../RGB_Guesser_Game/RGB.html">RGB Guesser Game</a>
                    <a class="dropdown-item" href="../../ToDoList/todo.html">To-Do List</a>
                    <div class="dropdown-divider"></div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                   aria-expanded="false">
                    Notes
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="../../COMS_631/COMS_631_index.html">COMS 631</a>
                    <a class="dropdown-item" href="../../COMS_535/COMS_535_index.html">COMS 535</a>
                    <div class="dropdown-divider"></div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                   aria-expanded="false">
                    Code
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="../../Code/ThingsToRemember/ThingsToRemember.html">Things To
                        Remember</a>
                    <a class="dropdown-item" href="../../Code/Java_Notes/JavaNotes.html">Java Notes</a>
                    <a class="dropdown-item" href="../../Code/Java_Notes/JavaNotes_2.html">Java Notes 2</a>
                    <a class="dropdown-item" href="../../Code/Applying_Java_Notes/ApplyingJava_Notes.html">ApplyingJava
                        Notes</a>
                    <a class="dropdown-item" href="../../Code/SQL/SQL.html">SQL Notes</a>
                    <a class="dropdown-item" href="../../Code/Spring/Spring.html">Spring Notes</a>
                    <a class="dropdown-item" href="../../Code/Kafka/Kafka.html">Kafka Notes</a>
                    <a class="dropdown-item" href="../../Code/Angular/Angular.html">Angular</a>
                    <a class="dropdown-item" href="../../Code/Hibernate/Hibernate.html">Hibernate</a>
                    <div class="dropdown-divider"></div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                   aria-expanded="false">
                    In Another Life
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="../../InAnotherLife/Chapter1.html">Chapter 1</a>
                    <div class="dropdown-divider"></div>
                </div>
            </li>
        </ul>


        <ul class="navbar-nav ml-auto">
            <li class="nav-item active"><a class="nav-link" href="https://github.com/rgbk21">GitHub</a></li>
            <li class="nav-item active"><a class="nav-link"
                                           href="https://www.linkedin.com/in/raj-gaurav-ballabh-kumar-97002058/">LinkedIn</a>
            </li>
            <li class="nav-item active"><a class="nav-link" href="https://www.instagram.com/wobblyframes/">Instagram</a>
            </li>
            <li class="nav-item active"><a class="nav-link"
                                           href="https://www.facebook.com/SomeRandomThoughts">Facebook</a></li>
        </ul>

    </div>
</nav>

<div class="container">

    <div>
        This page contains my notes from the following books: <br>
        a) Baeldung REST API Spring Course <br>
        b) Baeldung Spring Course <br>
    </div>

    <br>
    Index: <br>
    REST API Spring Course: <br>
    Module 0: <a href="#SpringAnnotations">Annotations</a>
    <br>
    Module 1: <a href="#Rest-Module1"> The Basics of REST with Spring</a>
    <br>
    Module 2: <a href="#Rest-Module2"> REST and HTTP Semantics</a>

    <br>
    <br>

    Spring Course: <br>
    Module 2: <a href="#Spring-Module1">Dependency Injection and the Spring Context</a>
    <br>


    <hr>
    <div id="Rest-Module1" class="chapter">Module 1: The Basics of REST with Spring</div>
    <hr>

    <div class="textual-content">

        <div class="sub-heading">Lesson 4: Properties and Project Settings</div>
        <div>
            -Relevant code can be found <a
                href="https://github.com/rgbk21/MySQL-CRUD/blob/master/src/main/java/com/example/demo/service/StartupLoggingComponent.java">here</a>.
            <br>
            - How do you split up your properties file, so that the app reads different property files depending upon
            the environment that it is in (dev, local, prod). See <a
                href="https://github.com/rgbk21/MySQL-CRUD/blob/master/src/main/java/com/example/demo/spring/PersistenceJPAConfig.java#L11">here</a>.
            <br>
            - What is the <code>InitializingBean</code>? It can be used to read property values that are specified in
            the classpath files in: <code>src/main/resources</code> <br>
            - What is the <code>Environment</code> and what is it used for? Read "Spring Configuration Tips" - Talk by
            Josh Long <a
                href="https://spring.io/blog/2020/04/23/spring-tips-configuration">here</a>.<br>

        </div>

        <div class="sub-heading">Lesson 5: The Web Configuration</div>
        <div>
            - Relevant code <a
                href="https://github.com/rgbk21/MySQL-CRUD/blob/master/src/main/java/com/example/demo/spring/WebConfig.java">here</a>.
            <br>
            - Consider a Client sending a HTTP request to the server. In the HTTP Headers of the request, the <code>Content-Type</code>
            specifies the type of the content in the body of the HTTP request. The <code>Accept</code> headers specifies
            the type of content that the Client accepts. The <code>Accept</code> header specified by the Client will be
            used to choose the appropriate Http Converter to marshall the entity. Read about how HTTP Converters work <a
                href="https://www.baeldung.com/spring-httpmessageconverter-rest">here on Baeldung</a>. <br>
            - Using HATEOAS changes the content-type returned by the server from <code>application/json</code> to <code>application/hal-json</code>.
            <br>
            - You can implement the <code>WebMvcConfigurer</code> class to do the following: <br>
            - You can enable <code>SerializationFeature.INDENT_OUTPUT</code> to indent the RAW JSON returned from your
            REST API.
            <br>
            - You can enable <code>DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES</code> to enable your API to not
            accept any fields that are not present on the Peristence objects.
        </div>

    </div>


    <hr>
    <div id="Rest-Module2" class="chapter">Module 2: REST and HTTP Semantics</div>
    <hr>

    <div class="textual-content">

        <div class="sub-heading">Lesson 1: Exception Handling and Sane HTTP Status Codes</div>
        <div>
            - Starting with Boot 2.3, we also need to explicitly add the spring-boot-starter-validation dependency (<a
                href="https://www.baeldung.com/spring-boot-bean-validation">Source</a>). <br>
            - If you use a constraint like <code>@NotNull</code> in your entity, then you need to also follow that up
            with <code>@Validated</code> or <code>@Valid</code> when you are passing in that object to a POST request.
            Only then will you get the 400 Bad Request error if the constraint is invalidated. Otherwise you will get a
            500 Internal Server Error. Check this <a
                href="https://stackoverflow.com/questions/58614373/how-to-convert-constraintviolationexception-500-error-to-400-bad-request">SO
            Link</a>. <br>
            - A global exception handler is created by extending the <code>ResponseEntityExceptionHandler</code> class.
            Also, you don't need to extend <code>ResponseEntityExceptionHandler</code> if you don't need all the
            exception mappings it provides (<a
                href="https://stackoverflow.com/questions/24338734/responseentityexceptionhandler-is-not-getting-called-when-exception-occurs">SO
            Source</a>) <br>
            - Handling exceptions is explained with diagrams <a
                href="https://jaxenter.com/guide-to-spring-boot-rest-api-error-handling-136631.html">here</a>.
        </div>


        <div class="sub-heading">Lesson 1: Exception Handling and Sane HTTP Status Codes pt2</div>
        <div>
            - <code>Throwables.getRootCause</code> from the Guava library can be used to get at the root cause of the
            <code>Exception</code>
            <br>
            - <code>findOne</code> vs <code>findById</code> vs <code>getOne</code> <a
                href="https://stackoverflow.com/questions/24482117/when-use-getone-and-findone-methods-spring-data-jpa">here
            on SO</a>.
            <br>
            - In order to mark a field as "Not Null" in the <code>@Entity</code> object, there are 2 ways that you can
            accomplish this - <br>
            a) Annotate it with <code>@NotNull</code> <br>
            b) Annotate it with <code>@Column(nullable = false)</code> <br>
            Remember to add the <code>@Valid</code> in front of the object when you are reading it as an argument as
            shown here in <a
                href="https://stackoverflow.com/questions/58614373/how-to-convert-constraintviolationexception-500-error-to-400-bad-request">this
            question</a>. <br>
            - Usage of <code>@ExceptionHandler</code> to catch and throw exceptions was discussed. Very useful
            discussion.<br>
            - Note how we are using <code>@ExceptionHandler</code>, with the class of the Exception types that we want
            the
            method to handle, being passed in as arguments to the annotation. We can do that because we have specified
            the <code>handleBadRequest</code> method as having an argument of type <code>RuntimeException</code>, hence
            both <code>DataIntegrityViolationException</code> and <code>MyBadRequestException</code> work as well. You
            can refer the code <a
                href="https://github.com/rgbk21/MySQL-CRUD/blob/master/src/main/java/com/example/demo/web/controller/exceptions/RestResponseEntityExceptionHandler.java#L33-L36">here</a>.
            <br>
        </div>


        <div class="sub-heading">Lesson 2: The Basics of Input Validation</div>
        <div>
            - <a href="https://courses.baeldung.com/courses/32653/lectures/5958204">Lecture Notes</a> <br>
            - Code available <a
                href="https://github.com/rgbk21/MySQL-CRUD/blob/master/src/main/java/com/example/demo/model/Student.java">here</a>.
            <br>
            - JSR-303 and JSR-349 are the standards of the validation. Apart from these, Hibernate also provides some
            other validations that are not a part of the standard but are very helpful. <br>
            - In Spring Boot, starting from version 2.3, the validation artifact has been moved from the web starter
            into a separate one: search for <code>spring-boot-starter-validation</code> on maven repo and add that to
            your project. <br>
            - Question: What should we do in the case of partial update? Which method should we use? <br>
            - <a
                href="https://stackoverflow.com/questions/2443324/best-practice-for-partial-updates-in-a-restful-service">Best
            practice for partial updates in a RESTful service</a>
            <br>
            - <a
                href="https://stackoverflow.com/questions/19732423/why-isnt-http-put-allowed-to-do-partial-updates-in-a-rest-api">Why
            isn't HTTP PUT allowed to do partial updates in a REST API?</a>
            <br>
            - <a
                href="https://softwareengineering.stackexchange.com/questions/191596/is-it-ok-to-partially-change-a-collection-with-put-or-delete/266705">Is
            it OK to partially change a collection with PUT or DELETE?</a> <br>
        </div>


        <div class="sub-heading">Lesson 3: Good URI Practices</div>
        <div>
            - Check <a href="https://www.vinaysahni.com/best-practices-for-a-pragmatic-restful-api">this</a> link
            explaining best practices for REST
            <br>
            - Lecture notes <a href="https://courses.baeldung.com/courses/32653/lectures/5958206">here</a>. <br>
            - Nouns vs Verbs. Always prefer nouns <br>
            - Plural vs Singular. Either works. But be consistent. <br>
            - IDs vs UUIDs. Eh.
        </div>


        <div class="sub-heading">Lesson 4: Leverage HTTP Verbs and Semantics</div>
        <div>
            - Lecture notes <a href="https://courses.baeldung.com/courses/32653/lectures/5958209">here</a>. <br>
            - Relevant code <a
                href="https://github.com/rgbk21/MySQL-CRUD/blob/master/src/main/java/com/example/demo/web/controller/StudentController.java#L47">here</a>.
            <a href="https://github.com/rgbk21/MySQL-CRUD/blob/master/src/main/java/com/example/demo/web/controller/StudentController.java#L47">This</a>
            is how the request for the pagination is handled.
            - What is <code>@Transactional</code> used for? <a
                href="https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth">This
            link</a> goes into the details. <br>
        </div>


        <div class="sub-heading">Lesson 5: Support both XML and JSON</div>
        <div>
            - Lecture notes <a href="https://courses.baeldung.com/courses/32653/lectures/5958210">here</a>. <br>
            - Earlier there was the Xtream library. But now we can use the <code>jackson-dataformat-xml</code> library
            which is an extension of the existing Jackson JSON library. <code>woodstox-core-asl</code> is another
            library that we need. Woodstox is a high-performance XML processor that implements Stax (JSR-173) and SAX2
            APIs. Both SAX and StAX are stream / event oriented XML parsers. SAX uses a "push" model, and StAX uses a
            "pull" model. <br>
            - All you have to do is specify the above 2 dependencies in your Gradel file, and boom. Now the return type
            becomes XML. (The Content-type header is <code>"Content-Type":"application/xml;charset=UTF-8"</code>)
            <br>
            - <code>HeaderContentNegotiationStrategy</code> checks the "Accept" header of the HTTP Request.
        </div>


    </div>

    <hr>
    <div id="SpringAnnotations" class="chapter">Module 0: Annotations</div>
    <hr>

    <div class="textual-content">

        <div class="one-point">
            1) <code>@Component</code>: <br>
            - Check <a href="#Spring-M2-L3">here</a> <br>
            - Used to add beans to the Spring Context <br>
            - @Component vs @Repository vs @Service vs @Controller <a
                href="https://stackoverflow.com/a/6897038/8742428">on SO here</a>.
        </div>

        <div class="one-point">
            1.1) <code>@ComponentScan</code>: <br>
            - By default, it scans every package under the package where this annotation is used. The scan is done to
            see if there are any annotations present which Spring can use to add beans to the Context.<br>
            - This annotation is included in the <code>@SpringBootApplication</code> annotation by default. Hence every
            Spring Boot Application has component scanning enabled by default. Right from the root package itself. <br>
            - Sometimes you might not want EVERY package under the root scanned - as you might want fine-grained
            control. In that case, you can change packages to scan if you want. Check <a
                href="https://stackoverflow.com/a/37130521/8742428">this SO link here</a>.
        </div>

        <div class="one-point">
            1.2) <code>@Repository</code>: <br>
            - Check <a href="#Spring-M2-L3">here</a> <br>
            - Internally it's still using <code>@Component</code>. Just additional semantics have been added on top of
            it.
        </div>

        <div class="one-point">
            1.3) <code>@Service</code>: <br>
            - Check <a href="#Spring-M2-L3">here</a> <br>
            - Internally it's still using <code>@Component</code>. Just additional semantics have been added on top of
            it.
        </div>

        <div class="one-point">
            2) @Autowired: <br>
            - Autowired members must be defined in valid Spring bean (@Component|@Service|...) <br>
        </div>

        <div class="one-point">
            3) @Configuration: <br>
            - This annotation indicates to Spring that this class needs to be processed by the container because the
            class will contribute bean definitions to it. If the annotation is not included then Spring will just ignore
            the class.
        </div>

        <div class="one-point">
            3.1) @Bean: <br>
            - The @Bean annotation is one such actual bean definition. The name of the bean is the name of the method
            that is used to create the bean. By default, Spring Boot loads all classes annotated with @Bean, @Component,
            @Configuration etc that are located in the same package as the main class or in all sub-packages of this.
        </div>

        <div class="one-point">
            5) @EnableWebMVC
        </div>

        <div class="one-point">
            6) @ControllerAdvice
        </div>

        <div class="one-point">
            7) @RestControllerAdvice
        </div>

        <div class="one-point">
            8) @NotNull, @NotEmpty, @NotBlank <br>
            - Source on <a href="https://www.baeldung.com/java-bean-validation-not-null-empty-blank">baeldung</a>. <br>
            - @NotNull: a constrained CharSequence, Collection, Map, or Array is valid as long as it's not null, but it
            can be empty <br>
            - @NotEmpty: a constrained CharSequence, Collection, Map, or Array is valid as long as it's not null and its
            size/length is greater than zero <br>
            - @NotBlank: a constrained String is valid as long as it's not null and the trimmed length is greater than
            zero <br>
        </div>

        <div class="one-point">
            9) @Valid, @Validated <br>
            - <a
                href="https://stackoverflow.com/questions/36173332/difference-between-valid-and-validated-in-spring">Source</a>
            <br>
            - <code>@Valid</code> is the standard validation available. <code>@Validated</code> is a Spring-specific
            validation that gives us some other functionality on top of <code>@Valid</code>, like Validation Groups. But
            <code>@Valid</code> should satisfy our needs for now.

        </div>

        <div class="one-point">
            10) @ExceptionHandler <br>
            -

        </div>

        <div class="one-point">
            11) Validation Related: <br>
            - @NotNull, @Size(min = 2, max = 32), @Min(2), @Max(100), @Email <br>
            - Note that @Min, @Max combo allow null values to be passed as valid values. <a
                href="https://stackoverflow.com/questions/46493670/java-validation-min-max-annotion-for-null-values">SO
            Source</a>

        </div>

        <div class="one-point">
            12) @Transactional, @Cacheable, @EnableCaching <br>
            -

        </div>

        <div class="one-point">
            13) @PostConstruct, @PreDestroy <br>
            -

        </div>

        <div class="one-point">
            12) @Qualifier, @Primary <br>
            - When there are more than one bean and you want to explicitly specify which type of bean to use. <br>
            - When to use which and why and where <a href="https://stackoverflow.com/a/48447910/8742428">here on SO</a>.

        </div>


    </div>


    <hr>
    <div id="Spring-Module1" class="chapter">Module 2: Dependency Injection and the Spring Context</div>
    <hr>

    <div class="textual-content">
        <div class="sub-heading" id="Spring-M2-L1">Lesson 1: What Is DI and How Does It Work in Spring?</div>
        <div>
            -
        </div>


        <div class="sub-heading" id="Spring-M2-L2">Lesson 2: The Basics of Java Configuration and the Spring Context
        </div>
        <div>
            -
        </div>


        <div class="sub-heading" id="Spring-M2-L3">Lesson 3: Defining Beans, Component Scanning and Bean Annotations
        </div>
        <div>
            - One way to add beans that you have created yourself to Spring's Application Context is by using the <code>@Configuration</code>
            and <code>@Bean</code> combo:
            <br>
            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/daf5067c50dec59ac2ea7357770af621.js"></script>
            </div>

            - Another way is to just annotate the class with the <code>@Component</code> annotation. When the Spring
            Context boots up, it will call the constructor below to create an instance of the class and add it to the
            context as a Bean.<br>

            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/0fb0777d3245bfd8a1b46e412255b1b4.js"></script>
            </div>

            - There are other annotations that build on top of the <code>@Component</code> annotation by just adding an
            extra layer of Semantics on top of it. <br>
            - For instance, take the <code>@Repository</code> annotation. We use this on top of the class exposing the
            Repository layer of the application.

            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/fbd373e732d47b544f67af819c357728.js"></script>
            </div>

            - Similarly we have the <code>@Service</code> annotation.
            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/0a0b2256dd93f1a13aeb8fa23d65a686.js"></script>
            </div>
        </div>


        <div class="sub-heading" id="Spring-M2-L4">Lesson 4: Lifecycle of a Bean - Init and Destroy Hooks</div>
        <div>
            - Lecture notes <a href="https://courses.baeldung.com/courses/487981/lectures/10286758">here</a>. <br>
            - The lifecycle can be divided into 3 main stages: <br>
            a) initialization phase <br>
            b) use phase <br>
            c) destroy phase <br>
            - Consider 3 beans being created as follows: <br>

            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/90718c00c23bfb2a0b53e992c105690f.js"></script>
            </div>

            - We can hook into the lifecycle stages of the three beans as follows: <br>

            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/92f4c388bc3a6b2bf164b2112a54f7dc.js"></script>
            </div>

            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/baf6599c7e04ed4adbbc9255b385463a.js"></script>
            </div>

            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/87e7b5fe98b3d7d0d7d88247955424a3.js"></script>
            </div>

            - The output on running the application will be as follows. Note the order of execution of the methods. <br>
            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/538659f9215b53bb8dcffc8c7846f314.js"></script>
            </div>
        </div>


        <div class="sub-heading" id="Spring-M2-L5">Lesson 5: Simple Wiring and Injection</div>
        <div>
            - There are primarily three ways to define or inject dependencies: <br>
            a) Constructor Injection <br>
            b) Setter Injection <br>
            c) Field Injection <br>
            - Injection is done using interface names <br>
            - The reason we are using <code>@Qualifier</code> is because we are assuming a scenario when there are more
            than one classes that are implementing the interface field that is being injected. <br>
            - Note that we're using the bean name: "projectRepositoryImpl2" even though we haven't defined this name
            explicitly. This is because Spring will generate a default name for each bean, based on the class name, if
            we don't define one. This name is simply the name of the class, starting with a lowercase. For example, for
            our ProjectRepositoryImpl2 class, the container will create a bean called "projectRepositoryImpl2". <br>
            - Constructor Injection is done as follows: <br>
            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/beb4737bb37e46d24e99b17ce41d12db.js"></script>
            </div>

            - Setter Injection is done as follows: <br>
            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/3029372e7b2e4fbd21ab2a6451dd48a5.js"></script>
            </div>

            - Field Injection is done as follows (this is not recommended): <br>
            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/2a6bd18ec765a9da0d91b17d9ed5cb57.js"></script>
            </div>
        </div>


        <div class="sub-heading" id="Spring-M2-L6">Lesson 6: Exploring the Scopes of Spring Beans</div>
        <div>
            - There are six types of bean scopes in Spring: <br>
            a) Singleton - with this scope, the container creates a single instance of a bean. All requests for such a
            bean will return the same object, which is cached. This is the default scope if no other scope is specified.
            <br>
            b) Prototype - with this scope, the container will create a new instance every time it's requested. <br>
            c) Request, Session, Application, Websocket - these scopes are available only in a web-aware application
            context and are less often used in practice. <br>

            - Consider the following code. <br>
            - First we create a class called SingletonBean whose scope we specify as Singleton (which btw is the default
            scope if scope is not explicitly specified).

            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/d00ab07ab7b6cf6efa9c714d8d3c834c.js"></script>
            </div>

            - Then we create a class called PrototypeBean whose scope we specify as Prototype. <br>
            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/f50d2ccc30073e7037a279ca7ce58bcb.js"></script>
            </div>

            - And then we inject the beans as follows into the Application Context as follows: <br>
            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/4e1770326ce924e5a1d868048181cde7.js"></script>
            </div>

            - And the output we get shows that only one instance of the Singleton bean is being created, but there are
            two
            separate instances of the Prototype bean being created. <br>

            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/018650ba32aa01ce43e4b25b9e2c2836.js"></script>
            </div>
            - Refer these links for further info: <br>
            - Spring scopes basics explained <a href="http://codeflex.co/java-spring-scopes-explained/">here on
            codeflex</a>
            <br>
            - Just because the bean injected into the controller is prototype-scoped doesn't mean the controller is!
            <code>@Controller</code> is a singleton object, and if you inject a prototype bean into a singleton class,
            it will make the prototype bean also as singleton unless you specify using lookup-method property which
            actually create a new instance of prototype bean for every call you make. Source on <a
                href="https://stackoverflow.com/questions/7621920/scopeprototype-bean-scope-not-creating-new-bean">SO
            Here</a>. <br>
            - By default the scope of spring beans is singleton that means one instance per container. But that doesn't
            mean that the same instance is used by all requests.It works like this: <br>
            Client A requests for bean A, the container will look for the instance of that bean A, if the instance is
            not available it will create an instance and then will give it to client A. But if bean A is being used by
            another Client B then Client A has to wait till Client B releases the bean A. The singleton object is locked
            till it is use in a Client B, this can easily create a bottleneck for the application. That is why only the
            stateless beans are defined as spring beans. For example beans that easily qualify to be singleton are DAO,
            Service , Controller - these beans don't have their own states instead we leverage these beans in our
            application to perform certain operations. Choosing a Singleton bean that needs to maintain it's state is a
            bad design pattern. <a href="https://stackoverflow.com/a/15745353/8742428">Source on SO</a>. <br>

        </div>


        <div class="sub-heading" id="Spring-M2-L7">Lesson 7: The BeanPostProcessor and the BeanFactoryPostProcessor
        </div>
        <div>
            - <code>BeanPostProcessor</code> allows us to modify a bean or execute custom code after the bean is
            instantiated by the container. The container invokes the <code>BeanPostProcessor</code> for each and every
            bean. <br>
            - You can use the <code>BeanPostProcessor</code> as follows:
            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/971c44ec37aa23e5393b2e0b374c73d3.js"></script>
            </div>
            - This is a small snip from the log that was generated on using <code>BeanPostProcessor</code>. Note the
            order in which the methods are called. The lifecycle hooks defined on BeanA.. are present <a
                href="#Spring-M2-L4">here</a>.
            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/bf74f6a43f7cc6f59091cfd8b7a70eff.js"></script>
            </div>
            - Where would you use something like the <code>BeanPostProcessor</code>? The typical example for a bean post
            processor is when you want to wrap the original bean in a proxy instance, e.g. when using the <code>@Transactional</code>
            annotation.
            The bean post processor will be handed the original instance of the bean, it may call any methods on the
            target, but it also gets to return the actual bean instance that should be bound in the application context,
            which means that it can actually return any object it wants. The typical scenario when this is useful is
            when the bean post processor wraps the target in a proxy instance. All invocations on the bean bound in
            application context will pass through the proxy, and the proxy then gets to perform some magic before and/or
            after invocations on the target bean, e.g. AOP or transaction management. <a
                href="https://stackoverflow.com/a/29745225/8742428">Source on SO</a>. <br>

            - <code>BeanFactoryPostProcessor</code> allows us to read the configuration metadata of a bean and
            potentially modify it before the container has actually instantiated any of the beans. <br>
            - BeanPostProcessor vs BeanFactoryPostProcessor: <a href="https://stackoverflow.com/a/54807031/8742428">There
            is always a diagram</a>. <br>

            - We create a new Class called BeanD: <br>
            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/a835a082a71357e8651717cf8814ddc5.js"></script>
            </div>

            - And expose it as a Bean using the following: <br>
            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/5c252799561fe6b6fab645ec2fda5697.js"></script>
            </div>

            - Then we use the <code>BeanFactoryPostProcessor</code> to set the property value of the <code>foo</code>
            property on the <code>BeanD</code> class as this: <br>
            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/2344e831126c82f85e6a141de030422a.js"></script>
            </div>

            - Note the order in which the methods are executed. <br>
            - Note how early the <code>BeanFactoryPostProcessor</code> is called, which is later followed by the <code>BeanPostProcessor</code>.
            <div class="code-snippet">
                <script src="https://gist.github.com/rgbk21/536b4cd0fa96a90e0a1acdf53cba2455.js"></script>
            </div>

            // TODO: We can also implement multiple BeanPostProcessors and control their execution order by implementing
            the Ordered interface in each BeanPostProcessor.
        </div>


        <div class="sub-heading" id="Spring-M2-L8">Lesson 8: The Spring Application Context</div>
        <div>
            -
        </div>


    </div>


</div>

</body>
</html>
