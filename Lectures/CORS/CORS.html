<!DOCTYPE html>
<html lang="en">
<head>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9QJ5D3X353"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'G-9QJ5D3X353');
    </script>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../../globalStyles.css">
    <meta name="author" content="Raj Gaurav Ballabh Kumar">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CORS Notes</title>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">

    <div class="navbar-header">
        <a href="../../index.html" class="navbar-brand"> rgbk21</a>
    </div>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"><span
            class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="nav navbar-nav">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                   aria-expanded="false">
                    Projects
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="../../Projects/TwitterCritNodes/TwitterCritNodes_1.html">Identifying
                        Critical Nodes on Twitter</a>
                    <a class="dropdown-item" href="../../Projects/isRelatedTo/isRelatedTo.html">isRelatedTo</a>
                    <div class="dropdown-divider"></div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                   aria-expanded="false">
                    HTML Projects
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="../../ImageGallery/ImageGallery.html">Image Gallery</a>
                    <a class="dropdown-item" href="../../Pig_Game/index.html">Pig Game</a>
                    <a class="dropdown-item" href="../../RGB_Guesser_Game/RGB.html">RGB Guesser Game</a>
                    <a class="dropdown-item" href="../../ToDoList/todo.html">To-Do List</a>
                    <div class="dropdown-divider"></div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                   aria-expanded="false">
                    Notes
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="../COMS_631/COMS_631_index.html">COMS 631</a>
                    <a class="dropdown-item" href="../COMS_535/COMS_535_index.html">COMS 535</a>
                    <div class="dropdown-divider"></div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                   aria-expanded="false">
                    Code
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="../../Code/ThingsToRemember/ThingsToRemember.html">Things To
                        Remember</a>
                    <a class="dropdown-item" href="../../Code/Java_Notes/JavaNotes.html">Java Notes</a>
                    <a class="dropdown-item" href="../../Code/Java_Notes/JavaNotes_2.html">Java Notes 2</a>
                    <a class="dropdown-item" href="../../Code/Applying_Java_Notes/ApplyingJava_Notes.html">ApplyingJava
                        Notes</a>
                    <a class="dropdown-item" href="../../Code/JavaScript/JavaScript.html">JavaScript Notes</a>
                    <a class="dropdown-item" href="../../Code/SQL/SQL.html">SQL Notes</a>
                    <a class="dropdown-item" href="../../Code/Spring/Spring.html">Spring Notes</a>
                    <a class="dropdown-item" href="../../Code/Kafka/Kafka.html">Kafka Notes</a>
                    <a class="dropdown-item" href="../../Code/Angular/Angular.html">Angular</a>
                    <a class="dropdown-item" href="../../Code/Hibernate/Hibernate.html">Hibernate</a>
                    <div class="dropdown-divider"></div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                   aria-expanded="false">
                    In Another Life
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="../../InAnotherLife/Chapter1.html">Chapter 1</a>
                    <div class="dropdown-divider"></div>
                </div>
            </li>

        </ul>


        <ul class="navbar-nav ml-auto">
            <li class="nav-item active"><a class="nav-link" href="https://github.com/rgbk21">GitHub</a></li>
            <li class="nav-item active"><a class="nav-link"
                                           href="https://www.linkedin.com/in/raj-gaurav-ballabh-kumar-97002058/">LinkedIn</a>
            </li>
            <li class="nav-item active"><a class="nav-link" href="https://www.instagram.com/wobblyframes/">Instagram</a>
            </li>
            <li class="nav-item active"><a class="nav-link"
                                           href="https://www.facebook.com/SomeRandomThoughts">Facebook</a></li>
        </ul>

    </div>
</nav>

<div class="container">
    <div>
        This page contains my notes from CORS in Action book by Monsur Hossain <br>
    </div>

    <br>
    Index:
    <br>
    Chapter 1: <a href="#Chapter1">The Core of CORS</a> <br>
    Chapter 2: <a href="#Chapter2">Making CORS Requests</a> <br>

    <hr>
    <div id="Chapter1" class="chapter">Chapter 1: The Core of CORS</div>
    <hr>

    <div class="textual-content">

        <div class="sub-heading">What is CORS</div>
        <div>
            - In CORS, the server-side component configures which types of cross-origin requests are allowed and the client-side component controls how cross-origin requests are
            made. <br>
            - Browsers have a <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy#definition_of_an_origin">same-origin policy</a>, which means that a
            browser can only make requests to servers that have the same <i>origin</i>. CORS allows us to side-step this
            requirement by allowing cross-origin requests. This might seem antithetical, but the reasoning is that CORS puts the servers firmly in charge of who can make requests
            and what types of requests are allowed. This gives servers the choice to open up its API to all clients, open it up to a small number of clients, or prevent access to
            all clients. <br>
            - On a higher level, this is how the flow of CORS proceeds: <br>
            a) The CORS request is initiated by the JavaScript client code <br>
            b) The browser includes additional HTTP headers on the request before sending the request to the server <br>
            c) The server includes HTTP headers in the response that indicate whether the request is allowed <br>
            d) If the request is allowed, the browser sends the response to the client code <br>
            - If the headers returned by the server don't exist or aren't what the browser expects then the response is rejected and the client can't view the response.
        </div>

        <div class="sub-heading">Sending a CORS Request</div>
        <div>
            - Before we send a CORS request, we need to make sure that the browser actually supports a CORS request. This can be validated by checking the
            <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials"><code>XMLHttpRequest.withCredentials</code></a> property of the XHR object.
            <br>
            - The <code>XMLHttpRequest.withCredentials</code> property is a Boolean that indicates whether or not cross-site Access-Control requests should be made using
            credentials such as cookies, authorization headers or TLS client certificates. Setting <code>withCredentials</code> has no effect on same-site requests. <br>
            - In addition, this flag is also used to indicate when cookies are to be ignored in the response. The default is false. <br>
            - Note: <code>XMLHttpRequest</code> from a different domain cannot set cookie values for their own domain unless <code>withCredentials</code> is set to true before
            making the request regardless of Access-Control- header values. The third-party cookies obtained by setting <code>withCredentials</code> to true
            will still honor same-origin policy and hence can not be accessed by the requesting script through <code>document.cookie</code> or from response headers. <br>
            <img src="images/Ch1/HTTP_Request_Respone_Headers.png"
                 width="1200"
                 class="center-block img-fluid"
                 alt="Request_Response_CORS">
            - Note that in your Spring Code Controller setup, you cannot use <code> * </code> for <code>origins</code>, meaning this is an invalid use of the annotation:
            <code>@CrossOrigin(origins = "*", allowedHeaders = "*", allowCredentials = "true")</code> which produces the following error when you try to compile the Spring Code:
            java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the
            "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead. <br>
        </div>

        <div class="sub-heading">Why use CORS</div>
        <div>
            - CORS gives servers the flexibility to configure cross-origin access in a variety of ways. The server can specify various features: <br>
            a) which domains are allowed to make requests <br>
            b) Which HTTP methods are allowed to make requests (eg. <code>GET/PUT/POST/DELETE</code>) <br>
            c) Which headers are allowed on the HTTP request <br>
            d) Whether or not requests may include cookie data <br>
            e) Which response headers the client can read
        </div>
    </div>

    <hr>
    <div id="Chapter2" class="chapter">Chapter 2: Making CORS Requests</div>
    <hr>

    <div class="textual-content">
        - A CORS request consists of two sides: the client making the request and the server receiving the request. On the client side, the developer writes the JS code to send the
        request to the server. The server responds to the request by setting CORS-specific headers to indicate that the cross-origin request is allowed. Without both the client's
        and the server's participation, the CORS request will fail.

        <div class="sub-heading">What is CORS</div>
        <div>

        </div>
    </div>

</div>

</body>
</html>
